<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TransactionManager.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">lms</a> &gt; <a href="index.source.html" class="el_package">com.skilrock.lms.rest.common</a> &gt; <span class="el_source">TransactionManager.java</span></div><h1>TransactionManager.java</h1><pre class="source lang-java linenums">package com.skilrock.lms.rest.common;

import com.skilrock.lms.web.drawGames.common.Util;

<span class="nc" id="L5">public class TransactionManager {</span>
<span class="nc" id="L6">	private static final ThreadLocal&lt;LocalThreadData&gt; context = new ThreadLocal&lt;LocalThreadData&gt;();</span>

	public static void startTransaction() {
		// logic to start a transaction
		// ...
<span class="nc" id="L11">		LocalThreadData localThread = new LocalThreadData();</span>
<span class="nc" id="L12">		localThread.setAuditId(Util.getAuditTrailId());</span>
<span class="nc" id="L13">		localThread.setAuditTime(System.currentTimeMillis());</span>
<span class="nc" id="L14">		localThread.setActivityId(Util.getActivityId());</span>
<span class="nc" id="L15">		context.set(localThread);</span>
<span class="nc" id="L16">	}</span>

	public static long getAuditId() {
<span class="nc" id="L19">		return context.get().getAuditId();</span>
	}

	public static long getAuditTime() {
<span class="nc" id="L23">		return context.get().getAuditTime();</span>
	}
	public static long getActivityId() {
<span class="nc" id="L26">		return context.get().getActivityId();</span>
	}
	
	public static int getMerchantId() {
<span class="nc" id="L30">		return context.get().getMerchantId();</span>
	}
	
	public static void setMerchantId(int merchantId) {
<span class="nc" id="L34">		 context.get().setMerchantId(merchantId);</span>
<span class="nc" id="L35">	}</span>
	public static void setResponseData(String responseData) {
<span class="nc" id="L37">		 context.get().setResponseData(responseData);</span>
<span class="nc" id="L38">	}</span>
	public static String getResponseData() {
<span class="nc" id="L40">		 return context.get().getResponseData();</span>
	}
	
  public static ThreadLocal&lt;LocalThreadData&gt; getContext() {
<span class="nc" id="L44">		return context;</span>
	}

public static void endTransaction() {
		
<span class="nc" id="L49">		context.remove();</span>
<span class="nc" id="L50">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>