<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TrackPwtBOAction.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">lms</a> &gt; <a href="index.source.html" class="el_package">com.skilrock.lms.web.scratchService.pwtMgmt.common</a> &gt; <span class="el_source">TrackPwtBOAction.java</span></div><h1>TrackPwtBOAction.java</h1><pre class="source lang-java linenums">package com.skilrock.lms.web.scratchService.pwtMgmt.common;

import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.apache.struts2.interceptor.ServletRequestAware;

import com.opensymphony.xwork2.ActionSupport;
import com.skilrock.lms.beans.InvTransitionBean;
import com.skilrock.lms.beans.InvTransitionWarehouseWiseBean;
import com.skilrock.lms.beans.TrackTicketBean;
import com.skilrock.lms.beans.TrackVirnBean;
import com.skilrock.lms.beans.UserInfoBean;
import com.skilrock.lms.common.exception.LMSException;
import com.skilrock.lms.coreEngine.scratchService.inventoryMgmt.common.BookFlowHelper;
import com.skilrock.lms.coreEngine.scratchService.pwtMgmt.common.TrackPwtBOHelper;

<span class="nc" id="L24">public class TrackPwtBOAction extends ActionSupport implements</span>
		ServletRequestAware {
<span class="nc" id="L26">	static Log logger = LogFactory.getLog(TrackPwtBOAction.class);</span>
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	private String bookNumber;
<span class="nc" id="L32">	private boolean bookValidity = false;</span>
	private int gameId;
	// private int gameNbr;
	private String gameIdNbrName;
	HttpServletRequest request;
	HttpServletResponse response;
	private String ticketNbr;

	TrackTicketBean trackTicketBean;

	TrackVirnBean trackVirnBean;
	private List&lt;InvTransitionBean&gt; transitionList;
	private String virnNbr;
	private InvTransitionWarehouseWiseBean invTransitionWarehouseWiseBean;
	
	public InvTransitionWarehouseWiseBean getInvTransitionWarehouseWiseBean() {
<span class="nc" id="L48">		return invTransitionWarehouseWiseBean;</span>
	}

	public void setInvTransitionWarehouseWiseBean(
			InvTransitionWarehouseWiseBean invTransitionWarehouseWiseBean) {
<span class="nc" id="L53">		this.invTransitionWarehouseWiseBean = invTransitionWarehouseWiseBean;</span>
<span class="nc" id="L54">	}</span>

	public String getBookNumber() {
<span class="nc" id="L57">		return bookNumber;</span>
	}

	public int getGameId() {
<span class="nc" id="L61">		return gameId;</span>
	}

	public String getGameIdNbrName() {
<span class="nc" id="L65">		return gameIdNbrName;</span>
	}

	public HttpServletRequest getRequest() {
<span class="nc" id="L69">		return request;</span>
	}

	public HttpServletResponse getResponse() {
<span class="nc" id="L73">		return response;</span>
	}

	public String getTicketFlow() throws LMSException {
<span class="nc" id="L77">		BookFlowHelper bookHelper = new BookFlowHelper();</span>
<span class="nc" id="L78">		Map bookFlowDetailMap = bookHelper.getBookFlow(gameId, bookNumber);</span>
<span class="nc" id="L79">		bookValidity = (Boolean) bookFlowDetailMap.get(&quot;bookValidity&quot;);</span>
<span class="nc" id="L80">		transitionList = (List&lt;InvTransitionBean&gt;) bookFlowDetailMap</span>
				.get(&quot;transitionList&quot;);
<span class="nc" id="L82">		return SUCCESS;</span>
	}
	
	public String getTicketFlowNew() throws LMSException {
<span class="nc" id="L86">		BookFlowHelper bookHelper = new BookFlowHelper();</span>
<span class="nc" id="L87">		invTransitionWarehouseWiseBean = bookHelper.getBookFlowNew(gameId, bookNumber);</span>
<span class="nc" id="L88">		return SUCCESS;</span>
	}

	public String getTicketNbr() {
<span class="nc" id="L92">		return ticketNbr;</span>
	}

	public TrackTicketBean getTrackTicketBean() {
<span class="nc" id="L96">		return trackTicketBean;</span>
	}

	public TrackVirnBean getTrackVirnBean() {
<span class="nc" id="L100">		return trackVirnBean;</span>
	}

	public List&lt;InvTransitionBean&gt; getTransitionList() {
<span class="nc" id="L104">		return transitionList;</span>
	}

	public String getVirnNbr() {
<span class="nc" id="L108">		return virnNbr;</span>
	}

	public boolean isBookValidity() {
<span class="nc" id="L112">		return bookValidity;</span>
	}

	public void setBookNumber(String bookNumber) {
<span class="nc" id="L116">		this.bookNumber = bookNumber;</span>
<span class="nc" id="L117">	}</span>

	public void setBookValidity(boolean bookValidity) {
<span class="nc" id="L120">		this.bookValidity = bookValidity;</span>
<span class="nc" id="L121">	}</span>

	public void setGameId(int gameId) {
<span class="nc" id="L124">		this.gameId = gameId;</span>
<span class="nc" id="L125">	}</span>

	public void setGameIdNbrName(String gameIdNbrName) {
<span class="nc" id="L128">		this.gameIdNbrName = gameIdNbrName;</span>
<span class="nc" id="L129">	}</span>

	public void setServletRequest(HttpServletRequest request) {
<span class="nc" id="L132">		this.request = request;</span>
<span class="nc" id="L133">	}</span>

	public void setServletResponse(HttpServletResponse response) {
<span class="nc" id="L136">		this.response = response;</span>
<span class="nc" id="L137">	}</span>

	public void setTicketNbr(String ticketNbr) {
<span class="nc" id="L140">		this.ticketNbr = ticketNbr;</span>
<span class="nc" id="L141">	}</span>

	public void setTrackTicketBean(TrackTicketBean trackTicketBean) {
<span class="nc" id="L144">		this.trackTicketBean = trackTicketBean;</span>
<span class="nc" id="L145">	}</span>

	public void setTrackVirnBean(TrackVirnBean trackVirnBean) {
<span class="nc" id="L148">		this.trackVirnBean = trackVirnBean;</span>
<span class="nc" id="L149">	}</span>

	public void setTransitionList(List&lt;InvTransitionBean&gt; transitionList) {
<span class="nc" id="L152">		this.transitionList = transitionList;</span>
<span class="nc" id="L153">	}</span>

	public void setVirnNbr(String virnNbr) {
<span class="nc" id="L156">		this.virnNbr = virnNbr;</span>
<span class="nc" id="L157">	}</span>

	public String trackTicketNVirn() throws LMSException {
<span class="nc" id="L160">		HttpSession session = getRequest().getSession();</span>
<span class="nc" id="L161">		UserInfoBean userBean = (UserInfoBean) session</span>
				.getAttribute(&quot;USER_INFO&quot;);
<span class="nc" id="L163">		TrackPwtBOHelper trackHelper = new TrackPwtBOHelper();</span>
<span class="nc" id="L164">		int gameId = Integer.parseInt(gameIdNbrName.split(&quot;-&quot;)[0]);</span>
<span class="nc" id="L165">		int gameNbr = Integer.parseInt(gameIdNbrName.split(&quot;-&quot;)[1]);</span>
<span class="nc" id="L166">		String gameName = gameIdNbrName.split(&quot;-&quot;)[2];</span>
<span class="nc" id="L167">		List ticketNVirnBeanList = trackHelper.trackTicketNVirn(ticketNbr,</span>
				virnNbr, gameNbr, gameId, gameName, userBean.getOrgName());
<span class="nc" id="L169">		trackTicketBean = (TrackTicketBean) ticketNVirnBeanList.get(0);</span>
<span class="nc" id="L170">		trackVirnBean = (TrackVirnBean) ticketNVirnBeanList.get(1);</span>
<span class="nc" id="L171">		return SUCCESS;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>