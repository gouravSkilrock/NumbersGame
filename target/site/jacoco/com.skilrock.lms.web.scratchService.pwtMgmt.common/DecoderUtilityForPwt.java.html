<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DecoderUtilityForPwt.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">lms</a> &gt; <a href="index.source.html" class="el_package">com.skilrock.lms.web.scratchService.pwtMgmt.common</a> &gt; <span class="el_source">DecoderUtilityForPwt.java</span></div><h1>DecoderUtilityForPwt.java</h1><pre class="source lang-java linenums">package com.skilrock.lms.web.scratchService.pwtMgmt.common;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

<span class="nc" id="L6">public class DecoderUtilityForPwt {</span>
<span class="nc" id="L7">	static Log logger = LogFactory.getLog(DecoderUtilityForPwt.class);</span>

	/*
	 * public VirnCodeBean fetchDecyptedVirnDetails(String virn, String
	 * encSchemeType){
	 * 
	 * ArrayList&lt;VirnCodeBean&gt; virnBeanList = null;
	 * if(&quot;1W_ENC_OF_ALL&quot;.equalsIgnoreCase(encSchemeType.trim())) {// 1W
	 * Encryption of virn, ticket and code virnBeanList =
	 * create1WEncVirnBeanListWithFixedCode(bean); }else
	 * if(&quot;2W_ENC_OF_TKT&quot;.equalsIgnoreCase(encSchemeType.trim())){ //2W
	 * Encryption of ticket(key is virn+code) and 1W encryption of virn &amp; code
	 * virnBeanList = create2WEncVirnBeanListWithFixedCode(bean); }else
	 * if(&quot;2W_ENC_OF_TKT_VIRN&quot;.equalsIgnoreCase(encSchemeType.trim())){ //2W
	 * Encryption of virn &amp; ticket(that are already 1W Encrypted ) using
	 * code(1W) virnBeanList = create2WEncVirnBeanList(bean); } }
	 * 
	 * 
	 * public static void main(String[] args) { }
	 * 
	 * /** This method is used when we using the '1W Encryption' to create the
	 * virn list to insert into database. @param br BufferReader @param
	 * encVirnStrBuilder @param gameNbrDigits @param maxRankDigits @param
	 * game_id @param rankDetailMap @return @throws NumberFormatException
	 * @throws IOException
	 * 
	 * private VirnCodeBean create1WEncVirnBeanListWithFixedCode(VirnCodeBean
	 * virnBean ) throws NumberFormatException, IOException{
	 * 
	 * 
	 * 
	 * 
	 * String virn_code = null; String encoded_virn_code=null;
	 * 
	 * final String DEFAULT_KEY = &quot;1234&quot;; String enckey = null, encTicket =
	 * null; String virnDetArr[] = new String[3];
	 * 
	 * virnDetArr[0] = virnDetArr[0].trim(); //virn_code virnDetArr[1] =
	 * virnDetArr[1].trim(); // ticket_nbr // DEFAULT_KEY //verification_code
	 * 
	 * 
	 * 
	 * virn_code = virnBean.getVirn_code(); // un Encrypted // 1W encryption of
	 * virn , ticket and key is done encoded_virn_code =
	 * MD5Encoder.encode(virn_code); enckey = MD5Encoder.encode(DEFAULT_KEY);
	 * encTicket = MD5Encoder.encode(virnDetArr[1]);
	 * 
	 * 
	 * 
	 * 
	 * 
	 * 
	 * virnBean.setStatus(&quot;UNCLM_PWT&quot;);
	 * virnBean.setVirn_code(encoded_virn_code); virnBean.setId1(encTicket);
	 * virnBean.setId2(enckey);
	 * 
	 * 
	 * 
	 * 
	 * return virnBean; }
	 * 
	 * 
	 * 
	 *//**
		 * This method is used when we using the '2W Encryption for ticket with
		 * fixed code' to create the virn list to insert into database.
		 * 
		 * @param br
		 *            BufferReader
		 * @param encVirnStrBuilder
		 * @param gameNbrDigits
		 * @param maxRankDigits
		 * @param game_id
		 * @param rankDetailMap
		 * @return
		 * @throws NumberFormatException
		 * @throws IOException
		 * @throws EncryptionException
		 * @throws NoSuchPaddingException
		 * @throws NoSuchAlgorithmException
		 */
	/*
	 * private ArrayList&lt;VirnCodeBean&gt;
	 * create2WEncVirnBeanListWithFixedCode(VirnCodeBean bean ) throws
	 * NumberFormatException, IOException, EncryptionException,
	 * NoSuchAlgorithmException, NoSuchPaddingException{
	 * 
	 * VirnCodeBean virnBean = null; String strLine = null; int rank_id = 0;
	 * String virn_code = null; String encoded_virn_code=null, encodedTkt =
	 * null, encKey = null; RankDetailBean rankDetailBean = null; ArrayList&lt;VirnCodeBean&gt;
	 * virnBeanList = new ArrayList&lt;VirnCodeBean&gt;(50000);
	 * encVirnStrBuilder.ensureCapacity(50000*15); String virnDetArr[];
	 * VirnEncoderNDecoder encoder = new VirnEncoderNDecoder(); final String
	 * DEFAULT_KEY = &quot;1234&quot;; //final String DEFAULT_ENCRYPTION_KEY =
	 * MD5Encoder.encode(DEFAULT_KEY); //1234 while((strLine
	 * =br.readLine())!=null) { if(&quot;&quot;.equals(strLine.trim())) continue;
	 * 
	 * virnDetArr = strLine.split(&quot;\t&quot;);
	 * 
	 * virnDetArr[0] = virnDetArr[0].trim(); //virn_code virnDetArr[1] =
	 * virnDetArr[1].trim(); // ticket_nbr // DEFAULT_KEY; //verification_code //
	 * get the rank id and virn_code rank_id =
	 * Integer.parseInt(virnDetArr[0].substring(gameNbrDigits,
	 * gameNbrDigits+maxRankDigits)); virn_code =
	 * strLine.substring(gameNbrDigits+maxRankDigits, virnDetArr[0].length()); //
	 * 2W encryption of ticket using (virn+code) encodedTkt =
	 * encoder.encrypt(virnDetArr[1], (virn_code+DEFAULT_KEY)) ;
	 * encoded_virn_code = MD5Encoder.encode(virn_code); encKey =
	 * MD5Encoder.encode(DEFAULT_KEY);
	 * 
	 * 
	 * encVirnStrBuilder.append(&quot;'&quot;).append(encoded_virn_code).append(&quot;',&quot;); //
	 * get the prize amount and status detail of game rankDetailBean =
	 * rankDetailMap.get(rank_id); // virn bean is created virnBean = new
	 * VirnCodeBean(); virnBean.setVirn_code(encoded_virn_code);
	 * virnBean.setGame_id(game_id);
	 * virnBean.setPwt_amt(rankDetailBean.getPrize_amount());
	 * virnBean.setPrize_level(rankDetailBean.getStatus());
	 * virnBean.setStatus(&quot;UNCLM_PWT&quot;); virnBean.setId1(encodedTkt);
	 * virnBean.setId2(encKey); virnBeanList.add(virnBean); }
	 * 
	 * virnBeanList.trimToSize(); encVirnStrBuilder.trimToSize();
	 * 
	 * return virnBeanList; }
	 * 
	 * 
	 *//**
		 * This method is used when we using the '2W Encryption of virn(1W
		 * Encoded) &amp; ticket(1W Encoded) with variable code(1W)' to create the
		 * virn list to insert into database.
		 * 
		 * @param br
		 *            BufferReader
		 * @param encVirnStrBuilder
		 * @param gameNbrDigits
		 * @param maxRankDigits
		 * @param game_id
		 * @param rankDetailMap
		 * @return
		 * @throws NumberFormatException
		 * @throws IOException
		 * @throws EncryptionException
		 * @throws NoSuchPaddingException
		 * @throws NoSuchAlgorithmException
		 */
	/*
	 * private ArrayList&lt;VirnCodeBean&gt; create2WEncVirnBeanList(VirnCodeBean
	 * bean ) throws NumberFormatException, IOException, EncryptionException,
	 * NoSuchAlgorithmException, NoSuchPaddingException{
	 * 
	 * VirnCodeBean virnBean = null; String strLine = null; int rank_id = 0;
	 * String virn_code = null; String encoded_virn_code=null, encodedTkt =
	 * null, enckey = null; RankDetailBean rankDetailBean = null; ArrayList&lt;VirnCodeBean&gt;
	 * virnBeanList = new ArrayList&lt;VirnCodeBean&gt;(50000);
	 * encVirnStrBuilder.ensureCapacity(50000*15); String virnDetArr[];
	 * VirnEncoderNDecoder encoder = new VirnEncoderNDecoder(); while((strLine
	 * =br.readLine())!=null) { if(&quot;&quot;.equals(strLine.trim())) continue;
	 * 
	 * virnDetArr = strLine.split(&quot;\t&quot;);
	 * 
	 * virnDetArr[0] = virnDetArr[0].trim(); //virn_code virnDetArr[1] =
	 * virnDetArr[1].trim(); // ticket_nbr virnDetArr[2] = virnDetArr[2].trim();
	 * //verification_code // get the rank id and virn_code rank_id =
	 * Integer.parseInt(virnDetArr[0].substring(gameNbrDigits,
	 * gameNbrDigits+maxRankDigits)); virn_code =
	 * strLine.substring(gameNbrDigits+maxRankDigits, virnDetArr[0].length()); //
	 * encrypt the virn, ticket and code using 1W encryption encoded_virn_code =
	 * MD5Encoder.encode(virn_code); encodedTkt =
	 * MD5Encoder.encode(virnDetArr[1]); enckey =
	 * MD5Encoder.encode(virnDetArr[2]); // 2W encryption of ticket using
	 * (virn(1W)+code(1W)) encoded_virn_code =
	 * encoder.encrypt(encoded_virn_code, enckey) ; encodedTkt =
	 * encoder.encrypt(encodedTkt, enckey) ; // get the prize amount and status
	 * detail of game rankDetailBean = rankDetailMap.get(rank_id); // virn bean
	 * is created virnBean = new VirnCodeBean();
	 * virnBean.setVirn_code(encoded_virn_code); virnBean.setGame_id(game_id);
	 * virnBean.setPwt_amt(rankDetailBean.getPrize_amount());
	 * virnBean.setPrize_level(rankDetailBean.getStatus());
	 * virnBean.setStatus(&quot;UNCLM_PWT&quot;); virnBean.setId1(encodedTkt);
	 * virnBean.setId2(&quot;&quot;); //virnBean.setId2(enckey);
	 * virnBeanList.add(virnBean);
	 * 
	 * encVirnStrBuilder.append(&quot;'&quot;).append(encoded_virn_code).append(&quot;',&quot;); }
	 * 
	 * virnBeanList.trimToSize(); encVirnStrBuilder.trimToSize();
	 * 
	 * return virnBeanList; }
	 */

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>